{"version":3,"sources":["../../app-es6/service/ProxyFactory.js"],"names":["ProxyFactory","objeto","props","acao","Proxy","get","target","prop","receiver","includes","_ehFuncao","Reflect","apply","arguments","set","value","retorno","func","Function"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAAaA,Y;;;;;;;iCAWGC,M,EAAQC,K,EAAOC,I,EAAM;;AAEjC,mBAAO,IAAIC,KAAJ,CAAUH,MAAV,EAAkB;AAEvBI,iBAFuB,eAEnBC,MAFmB,EAEXC,IAFW,EAELC,QAFK,EAEK;AAC1B,oBAAIN,MAAMO,QAAN,CAAeF,IAAf,KAAwBP,aAAaU,SAAb,CAAuBJ,OAAOC,IAAP,CAAvB,CAA5B,EAAkE;AAChE,yBAAO,YAAY;AACjBI,4BAAQC,KAAR,CAAcN,OAAOC,IAAP,CAAd,EAA4BD,MAA5B,EAAoCO,SAApC;AACA,2BAAOV,KAAKG,MAAL,CAAP;AACD,mBAHD;AAID;AACD,uBAAOK,QAAQN,GAAR,CAAYC,MAAZ,EAAoBC,IAApB,EAA0BC,QAA1B,CAAP;AACD,eAVsB;AAWvBM,iBAXuB,eAWnBR,MAXmB,EAWXC,IAXW,EAWLQ,KAXK,EAWEP,QAXF,EAWY;AACjC,oBAAIQ,UAAUL,QAAQG,GAAR,CAAYR,MAAZ,EAAoBC,IAApB,EAA0BQ,KAA1B,EAAiCP,QAAjC,CAAd;;AAEA,oBAAIN,MAAMO,QAAN,CAAeF,IAAf,CAAJ,EAA0B;AACxBJ,uBAAKG,MAAL;AACD;;AAED,uBAAOU,OAAP;AACD;AAnBsB,aAAlB,CAAP;AAqBD;;;oCAEgBC,I,EAAM;AACrB,mBAAO,QAAOA,IAAP,yCAAOA,IAAP,cAAwBC,QAAxB,yCAAwBA,QAAxB,EAAP;AACD","file":"ProxyFactory.js","sourcesContent":["export class ProxyFactory {\n\n  /*\n  - O segundo argumento do Proxy é um handler. Um objeto que contém as \"traps\" do proxy.\n  - TARGET: Objeto real que é encapsulado pela proxy.\n  - PROP: Propriedade que está sendo lida naquele momento.\n  - RECEIVER: Referência ao próprio proxy.\n\n  - ARGUMENTS: É uma variável implícita que nos dá acesso a todos os parâmetros\n     passados para a função ou método.\n*/\n  static create(objeto, props, acao) {\n\n    return new Proxy(objeto, {\n\n      get(target, prop, receiver) {\n        if (props.includes(prop) && ProxyFactory._ehFuncao(target[prop])) {\n          return function () {\n            Reflect.apply(target[prop], target, arguments);\n            return acao(target);\n          }\n        }\n        return Reflect.get(target, prop, receiver);\n      },\n      set(target, prop, value, receiver) {\n        let retorno = Reflect.set(target, prop, value, receiver);\n\n        if (props.includes(prop)) {\n          acao(target);\n        }\n\n        return retorno;\n      }\n    });\n  }\n\n  static _ehFuncao(func) {\n    return typeof(func) == typeof (Function);\n  }\n\n}"]}